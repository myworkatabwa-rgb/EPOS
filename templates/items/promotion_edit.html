{% extends "base.html" %}
{% block content %}

<div class="container-fluid">

    <h4 class="mb-3">Edit Promotion</h4>

    <div class="card shadow-sm">
        <div class="card-body">

            <form method="POST">
                {% csrf_token %}

                <div class="row">

                    <!-- NAME -->
                    <div class="col-md-6">
                        <label class="form-label">Promotion Name</label>
                        <input type="text"
                               name="name"
                               value="{{ promotion.name }}"
                               class="form-control"
                               required>
                    </div>

                    <!-- PROMO CODE -->
                    <div class="col-md-6">
                        <label class="form-label">Promo Code</label>
                        <input type="text"
                               name="promo_code"
                               value="{{ promotion.promo_code }}"
                               class="form-control"
                               required>
                    </div>

                    <!-- BRANCH -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">Branch</label>
                        <input type="text"
                               name="branch"
                               value="{{ promotion.branch }}"
                               class="form-control">
                    </div>

                    <!-- ENABLE -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">Enable</label>
                        <select name="enable" class="form-control">
                            <option value="Yes" {% if promotion.enable %}selected{% endif %}>Yes</option>
                            <option value="No" {% if not promotion.enable %}selected{% endif %}>No</option>
                        </select>
                    </div>

                    <!-- FROM DATE -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">From Date</label>
                        <input type="date"
                               name="from_date"
                               value="{{ promotion.from_date|date:'Y-m-d' }}"
                               class="form-control">
                    </div>

                    <!-- TO DATE -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">To Date</label>
                        <input type="date"
                               name="to_date"
                               value="{{ promotion.to_date|date:'Y-m-d' }}"
                               class="form-control">
                    </div>

                    <!-- DAYS -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">Days Applicable</label>
                        <input type="text"
                               name="days"
                               value="{{ promotion.days_applicable }}"
                               class="form-control">
                    </div>

                    <!-- PRIORITY -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">Priority</label>
                        <input type="number"
                               name="priority"
                               value="{{ promotion.priority }}"
                               class="form-control">
                    </div>

                    <!-- DISCOUNT TYPE -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">Discount Type</label>
                        <select name="discount_type" class="form-control">
                            <option value="Percentage"
                                {% if promotion.discount_type == "Percentage" %}selected{% endif %}>
                                Percentage
                            </option>
                            <option value="Fixed"
                                {% if promotion.discount_type == "Fixed" %}selected{% endif %}>
                                Fixed
                            </option>
                        </select>
                    </div>

                    <!-- DISCOUNT VALUE -->
                    <div class="col-md-6 mt-3">
                        <label class="form-label">Discount Value</label>
                        <input type="number"
                               step="0.01"
                               name="discount"
                               value="{{ promotion.discount_value }}"
                               class="form-control">
                    </div>

                    <!-- APPLICATION -->
                    <div class="col-md-12 mt-3">
                        <label class="form-label">Application</label>
                        <input type="text"
                               name="application"
                               value="{{ promotion.application }}"
                               class="form-control">
                    </div>

                </div>

                <br>

                <!-- ACTION BUTTONS -->
                <button class="btn btn-success px-5">
                    Update
                </button>

                <a href="{% url 'promotion_list' %}" class="btn btn-secondary">
                    Cancel
                </a>

            </form>

        </div>
    </div>

</div>

{% endblock %}
